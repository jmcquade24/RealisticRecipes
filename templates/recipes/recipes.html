{% extends "recipes/base.html" %}
{% load static %}
{% block title %}All Recipes{% endblock %}
{% block content %}
<div class="container recipes-page">
    <h2 class="page-title">Discover Recipes</h2>
    
    <section class="popular-section">
        <h3>🔥 Popular Recipes</h3>
        <div class="recipe-grid">
            {% for recipe in popular_recipes %}
            <div class="recipe-card">
                {% if recipe.image %}
                    <img src="{{ recipe.image.url }}" alt="{{ recipe.title }}" class="recipe-image">
                {% else %}
                    <img src="{% static 'images/default-recipe.jpg' %}" alt="Default Recipe Image" class="recipe-image">
                {% endif %}
                <div class="recipe-details">
                    <h4>{{ recipe.title }}</h4>
                    <p class="likes">👍 {{ recipe.like_count }} likes</p>
                    <a href="{% url 'recipes:view_recipe' recipe.slug %}" class="btn-view">View Recipe</a>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>

    <section class="new-section">
        <h3>✨ New Recipes</h3>
        <div class="recipe-grid">
            {% for recipe in new_recipes %}
            <div class="recipe-card">
                {% if recipe.image %}
                    <img src="{{ recipe.image.url }}" alt="{{ recipe.title }}" class="recipe-image">
                {% else %}
                    <img src="{% static 'images/default-recipe.jpg' %}" alt="Default Recipe Image" class="recipe-image">
                {% endif %}
                <div class="recipe-details">
                    <h4>{{ recipe.title }}</h4>
                    <p class="date">Posted {{ recipe.created_at|timesince }} ago</p>
                    <a href="{% url 'recipes:view_recipe' recipe.slug %}" class="btn-view">View Recipe</a>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>
    
</div>
{% endblock %}